@model InvoiceManagementSystem.Models.TeacherAttandenceModel
@{
    int no = 0;
}

@if (Model.LSTTeacherAttandenceList.Count > 0 && Model.LSTTeacherAttandenceList[0].Date != null)
{
    <table class="table align-items-center mb-0">
        <thead>
            <tr>
                @if (InvoiceManagementSystem.Models.SessionModel.RoleId == 2)
                {
                    <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center"><input type="checkbox" onclick="SelectAll()" id="selectAllCheckbox" /></th>
                }
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Sr No.</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Teacher</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Date</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Status</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Leave-Type / Leave-Sub-Type</th>

            </tr>
        </thead>

        <tbody id="tblBody">
            @for (var i = 0; i < Model.LSTTeacherAttandenceList.Count; i++)
            {
                var item = Model.LSTTeacherAttandenceList[i];
                no = no + 1;
                string SrNo = (no >= 1 && no <= 9) ? $"0{no}" : no.ToString();
            <tr>
                @if (InvoiceManagementSystem.Models.SessionModel.RoleId == 2)
                {
                    <td style="text-align: center;">
                        <input type="checkbox" class="chkVersIDs" name="chkVersIDs" id="chkVersIDs" data-id="@item.TeacherId">
                    </td>
                }
                <td>
                    <p class="text-xs font-weight-bold mb-0" style="text-align: center;"><b>@SrNo</b></p>
                </td>
                <td>
                    <p class="text-xs font-weight-bold mb-0" style="text-align: center;">@item.TeacherName</p>
                </td>
                <td>
                    <p class="text-xs font-weight-bold mb-0" style="text-align: center;">@item.Date</p>
                </td>
                @if (item.Status == "Present")
                {
                    <td>
                        <p class="text-xs font-weight-bold mb-0" style="text-align: center;color:green"><i class="fa fa-check-circle" style="color:green"></i><b> Present</b></p>
                    </td>
                }
                else
                {
                    <td>
                        <p class="text-xs font-weight-bold mb-0 text-danger" style="text-align: center; color: red"><i class="fa fa-times-circle text-danger"></i><b> Absent</b></p>
                    </td>
                }
                @if (item.Status == "Absent")
                {
                    if (item.LeaveType == "Full-Day")
                    {
                        <td>
                            <p class="text-xs font-weight-bold mb-0 text-danger" style="text-align: center;"><b>@item.LeaveType</b></p>
                        </td>
                    }
                    else
                    {
                        <td>
                            <p class="text-xs font-weight-bold mb-0 text-danger" style="text-align: center;"><b>@item.LeaveType / @item.LeaveSubType</b></p>
                        </td>
                    }
                }
                else
                {
                    <td>
                        <p class="text-xs font-weight-bold mb-0 text-dark" style="text-align: center; color: black"><i class="fa fa-dot-circle-o text-dark"></i><b> None</b></p>
                    </td>
                }

            </tr>
            }
        </tbody>
    </table>
}
else if (Model.LSTTeacherAttandenceList.Count > 0 && Model.LSTTeacherAttandenceList[0].Date == null)
{
    <table class="table align-items-center mb-0">
        <thead>
            <tr>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center"><input type="checkbox" onclick="SelectAll()" id="selectAllCheckbox" /></th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Sr No.</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Teacher</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Status</th>
            </tr>
        </thead>

        <tbody id="tblBody">
            @for (var i = 0; i < Model.LSTTeacherAttandenceList.Count; i++)
            {
                var item = Model.LSTTeacherAttandenceList[i];
                no = no + 1;
                string SrNo = (no >= 1 && no <= 9) ? $"0{no}" : no.ToString();
                <tr>
                    <td style="text-align: center;">
                        <input type="checkbox" class="chkVersIDs" name="chkVersIDs" id="chkVersIDs" data-id="@item.Id">
                    </td>
                    <td>
                        <p class="text-xs font-weight-bold mb-0" style="text-align: center;"><b>@SrNo</b></p>
                    </td>
                    <td>
                        <p class="text-xs font-weight-bold mb-0" id="TeacherName" style="text-align: center;">@item.TeacherName</p>
                    </td>
                    <td style="text-align: center;">
                        <p class="text-xs font-weight-bold mb-0 text-dark" style="text-align: center; color: black"><i class="fa fa-dot-circle-o text-dark"></i><b> None</b></p>
                    </td>
                </tr>
            }
        </tbody>

    </table>
}
else
{
    <table class="table align-items-center mb-0">
        <thead>
            <tr>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Sr No.</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Teacher</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Status</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Date</th>
                @*@if (InvoiceManagementSystem.Models.SessionModel.RoleId == 1)
                    {
                    <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" style="text-align:center">Action</th>
                    }*@
            </tr>
        </thead>

        <tbody id="tblBody">
            <tr>
                <td colspan="5">
                    <p class="text-xs font-weight-bold mb-0" style="text-align: center;color:black">
                        <b>No Record Found</b>
                    </p>
                </td>
            </tr>

        </tbody>
    </table>
}
@if (InvoiceManagementSystem.Models.SessionModel.RoleId == 2)
{
    <div class="quotation-body">
        <div class="row">
            <div class="col-lg-6 paddinglr8px">
            </div>
        </div>
        <div class="col-lg-12" style="bottom: 13px;">
            <div class="dataTables_paginate paging_simple_numbers" id="datatable-default_paginate">
                @if (Model != null && Model.LSTTeacherAttandenceList != null && Model.LSTTeacherAttandenceList.Count > 0)
                {
                    var start = (Model.LSTTeacherAttandenceList[0].PageIndex - 1) * Model.LSTTeacherAttandenceList[0].PageSize + 1;
                    var end = Model.LSTTeacherAttandenceList[0].PageSize;
                    if (Model.LSTTeacherAttandenceList[0].PageSize < Model.LSTTeacherAttandenceList[0].TotalRecord)
                    {
                        end = Model.LSTTeacherAttandenceList[0].PageSize * Model.LSTTeacherAttandenceList[0].PageIndex;
                        if (end > Model.LSTTeacherAttandenceList[0].TotalRecord)
                        {
                            end = Model.LSTTeacherAttandenceList[0].TotalRecord;
                        }
                    }
                    else
                    {
                        end = Model.LSTTeacherAttandenceList[0].TotalRecord;
                    }
                    <span id="spnTotalRecords" class="dataTables_info" Department="status" aria-live="polite" style="padding: 52px 27px 10px 18px; float: left; color: black;font-size:13px">Showing @start to @end of @Model.LSTTeacherAttandenceList[0].TotalRecord  entries</span>}
                <div id="divPagination">
                    @if (Model.LSTTeacherAttandenceList != null && Model.LSTTeacherAttandenceList.Count > 0)
                    {
                        var pager = Model.Pager;
                        if (pager != null)
                        {
                            if (pager.EndPage >= 1)
                            {
                                <ol class="pagination" style="float:right;margin-top:-15px;margin-bottom:-5px;">
                                    @if (pager.CurrentPage > 1)
                                    {
                                        <li class="paginate_button previous page-item">
                                            <a onclick="GetTeacherAttandenceList(@pager.CurrentPage-1)" class="page-link" style=" cursor: pointer; font-size: 11px; margin-top: 40px;"><i class="fas fa-angle-left"></i></a>&nbsp;
                                        </li>
                                    }
                                    @for (var page1 = pager.StartPage; page1 <= pager.EndPage; page1++)
                                    {
                                        if (@page1 == @pager.CurrentPage)
                                        {
                                            <li class="paginate_button page-item active">
                                                <a onclick="GetTeacherAttandenceList(@page1)" style=" cursor: pointer; font-size: 11px; margin-top: 40px;" aria-controls="datatable-default" data-dt-idx="2" tabindex="0" class="page-link bg-gradient-info"><span style="color:white">@page1</span></a>&nbsp;
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="paginate_button page-item">
                                                <a onclick="GetTeacherAttandenceList(@page1)" style=" cursor: pointer; font-size: 11px; margin-top: 40px;" class="page-link">@page1</a>&nbsp;
                                            </li>
                                        }
                                    }
                                    @if (pager.CurrentPage < pager.TotalPages)
                                    {
                                        <li class="paginate_button page-item">
                                            <a onclick="GetTeacherAttandenceList(@pager.CurrentPage + 1)" style=" cursor: pointer; font-size: 11px; margin-top: 40px; float: left" class="page-link"><i class="fas fa-angle-right"></i></a>
                                        </li>
                                    }
                                </ol>}
                        }
                    }
                </div>
            </div>
        </div>
    </div>

}
else
{
    <div class="quotation-body">
        <div class="row">
            <div class="col-lg-6 paddinglr8px">
            </div>
        </div>
        <div class="col-lg-12" style="bottom: 13px;">
            <div class="dataTables_paginate paging_simple_numbers" id="datatable-default_paginate">
                @if (Model != null && Model.LSTTeacherAttandenceList != null && Model.LSTTeacherAttandenceList.Count > 0)
                {
                    var start = (Model.LSTTeacherAttandenceList[0].PageIndex - 1) * Model.LSTTeacherAttandenceList[0].PageSize + 1;
                    var end = Model.LSTTeacherAttandenceList[0].PageSize;
                    if (Model.LSTTeacherAttandenceList[0].PageSize < Model.LSTTeacherAttandenceList[0].TotalRecord)
                    {
                        end = Model.LSTTeacherAttandenceList[0].PageSize * Model.LSTTeacherAttandenceList[0].PageIndex;
                        if (end > Model.LSTTeacherAttandenceList[0].TotalRecord)
                        {
                            end = Model.LSTTeacherAttandenceList[0].TotalRecord;
                        }
                    }
                    else
                    {
                        end = Model.LSTTeacherAttandenceList[0].TotalRecord;
                    }
                    <span id="spnTotalRecords" class="dataTables_info" Department="status" aria-live="polite" style="padding: 52px 27px 10px 18px; float: left; color: black;font-size:13px">Showing @start to @end of @Model.LSTTeacherAttandenceList[0].TotalRecord  entries</span>}
                <div id="divPagination">
                    @if (Model.LSTTeacherAttandenceList != null && Model.LSTTeacherAttandenceList.Count > 0)
                    {
                        var pager = Model.Pager;
                        if (pager != null)
                        {
                            if (pager.EndPage >= 1)
                            {
                                <ol class="pagination" style="float:right;margin-top:-15px;margin-bottom:-5px;">
                                    @if (pager.CurrentPage > 1)
                                    {
                                        <li class="paginate_button previous page-item">
                                            <a onclick="GetTeacherAttandenceListByTeacherId(@pager.CurrentPage-1)" class="page-link" style=" cursor: pointer; font-size: 11px; margin-top: 40px;"><i class="fas fa-angle-left"></i></a>&nbsp;
                                        </li>
                                    }
                                    @for (var page1 = pager.StartPage; page1 <= pager.EndPage; page1++)
                                    {
                                        if (@page1 == @pager.CurrentPage)
                                        {
                                            <li class="paginate_button page-item active">
                                                <a onclick="GetTeacherAttandenceListByTeacherId(@page1)" style=" cursor: pointer; font-size: 11px; margin-top: 40px;" aria-controls="datatable-default" data-dt-idx="2" tabindex="0" class="page-link bg-gradient-info"><span style="color:white">@page1</span></a>&nbsp;
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="paginate_button page-item">
                                                <a onclick="GetTeacherAttandenceListByTeacherId(@page1)" style=" cursor: pointer; font-size: 11px; margin-top: 40px;" class="page-link">@page1</a>&nbsp;
                                            </li>
                                        }
                                    }
                                    @if (pager.CurrentPage < pager.TotalPages)
                                    {
                                        <li class="paginate_button page-item">
                                            <a onclick="GetTeacherAttandenceListByTeacherId(@pager.CurrentPage + 1)" style=" cursor: pointer; font-size: 11px; margin-top: 40px; float: left" class="page-link"><i class="fas fa-angle-right"></i></a>
                                        </li>
                                    }
                                </ol>}
                        }
                    }
                </div>
            </div>
        </div>
    </div>
}